{"ast":null,"code":"import { fetch } from '../../lib/fetch';\nexport default function (config) {\n  function dispatch(url, body) {\n    return fetch(url, {\n      keepalive: config === null || config === void 0 ? void 0 : config.keepalive,\n      headers: {\n        'Content-Type': 'text/plain'\n      },\n      method: 'post',\n      body: JSON.stringify(body)\n    });\n  }\n  return {\n    dispatch: dispatch\n  };\n}","map":{"version":3,"names":["fetch","config","dispatch","url","body","keepalive","headers","method","JSON","stringify"],"sources":["/Users/bcaudillo/Desktop/Projects/todo/node_modules/@segment/analytics-next/src/plugins/segmentio/fetch-dispatcher.ts"],"sourcesContent":["import { fetch } from '../../lib/fetch'\n\nexport type Dispatcher = (url: string, body: object) => Promise<unknown>\n\nexport type StandardDispatcherConfig = {\n  keepalive?: boolean\n}\n\nexport default function (config?: StandardDispatcherConfig): {\n  dispatch: Dispatcher\n} {\n  function dispatch(url: string, body: object): Promise<unknown> {\n    return fetch(url, {\n      keepalive: config?.keepalive,\n      headers: { 'Content-Type': 'text/plain' },\n      method: 'post',\n      body: JSON.stringify(body),\n    })\n  }\n\n  return {\n    dispatch,\n  }\n}\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,iBAAiB;AAQvC,eAAc,UAAWC,MAAiC;EAGxD,SAASC,QAAQA,CAACC,GAAW,EAAEC,IAAY;IACzC,OAAOJ,KAAK,CAACG,GAAG,EAAE;MAChBE,SAAS,EAAEJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI,SAAS;MAC5BC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAY,CAAE;MACzCC,MAAM,EAAE,MAAM;MACdH,IAAI,EAAEI,IAAI,CAACC,SAAS,CAACL,IAAI;KAC1B,CAAC;EACJ;EAEA,OAAO;IACLF,QAAQ,EAAAA;GACT;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}