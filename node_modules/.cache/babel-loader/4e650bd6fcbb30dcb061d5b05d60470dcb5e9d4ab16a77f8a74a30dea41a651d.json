{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nexport function groupBy(collection, grouper) {\n  var results = {};\n  collection.forEach(function (item) {\n    var _a;\n    var key = undefined;\n    if (typeof grouper === 'string') {\n      var suggestedKey = item[grouper];\n      key = typeof suggestedKey !== 'string' ? JSON.stringify(suggestedKey) : suggestedKey;\n    } else if (grouper instanceof Function) {\n      key = grouper(item);\n    }\n    if (key === undefined) {\n      return;\n    }\n    results[key] = __spreadArray(__spreadArray([], (_a = results[key]) !== null && _a !== void 0 ? _a : [], true), [item], false);\n  });\n  return results;\n}","map":{"version":3,"names":["groupBy","collection","grouper","results","forEach","item","key","undefined","suggestedKey","JSON","stringify","Function","__spreadArray","_a"],"sources":["/Users/bcaudillo/Desktop/Projects/todo/node_modules/@segment/analytics-core/src/utils/group-by.ts"],"sourcesContent":["type Grouper<T> = (obj: T) => string | number\n\nexport function groupBy<T>(\n  collection: T[],\n  grouper: keyof T | Grouper<T>\n): Record<string, T[]> {\n  const results: Record<string, T[]> = {}\n\n  collection.forEach((item) => {\n    let key: string | number | undefined = undefined\n\n    if (typeof grouper === 'string') {\n      const suggestedKey = item[grouper]\n      key =\n        typeof suggestedKey !== 'string'\n          ? JSON.stringify(suggestedKey)\n          : suggestedKey\n    } else if (grouper instanceof Function) {\n      key = grouper(item)\n    }\n\n    if (key === undefined) {\n      return\n    }\n\n    results[key] = [...(results[key] ?? []), item]\n  })\n\n  return results\n}\n"],"mappings":";AAEA,OAAM,SAAUA,OAAOA,CACrBC,UAAe,EACfC,OAA6B;EAE7B,IAAMC,OAAO,GAAwB,EAAE;EAEvCF,UAAU,CAACG,OAAO,CAAC,UAACC,IAAI;;IACtB,IAAIC,GAAG,GAAgCC,SAAS;IAEhD,IAAI,OAAOL,OAAO,KAAK,QAAQ,EAAE;MAC/B,IAAMM,YAAY,GAAGH,IAAI,CAACH,OAAO,CAAC;MAClCI,GAAG,GACD,OAAOE,YAAY,KAAK,QAAQ,GAC5BC,IAAI,CAACC,SAAS,CAACF,YAAY,CAAC,GAC5BA,YAAY;KACnB,MAAM,IAAIN,OAAO,YAAYS,QAAQ,EAAE;MACtCL,GAAG,GAAGJ,OAAO,CAACG,IAAI,CAAC;;IAGrB,IAAIC,GAAG,KAAKC,SAAS,EAAE;MACrB;;IAGFJ,OAAO,CAACG,GAAG,CAAC,GAAAM,aAAA,CAAAA,aAAA,KAAQ,CAAAC,EAAA,GAAAV,OAAO,CAACG,GAAG,CAAC,cAAAO,EAAA,cAAAA,EAAA,GAAI,EAAE,EAAC,QAAER,IAAI,SAAC;EAChD,CAAC,CAAC;EAEF,OAAOF,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}