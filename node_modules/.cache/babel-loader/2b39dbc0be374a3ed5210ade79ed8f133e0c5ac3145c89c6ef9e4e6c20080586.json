{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Store = /** @class */function () {\n  function Store(rules) {\n    this.rules = [];\n    this.rules = rules || [];\n  }\n  Store.prototype.getRulesByDestinationName = function (destinationName) {\n    var rules = [];\n    for (var _i = 0, _a = this.rules; _i < _a.length; _i++) {\n      var rule = _a[_i];\n      // Rules with no destinationName are global (workspace || workspace::source)\n      if (rule.destinationName === destinationName || rule.destinationName === undefined) {\n        rules.push(rule);\n      }\n    }\n    return rules;\n  };\n  return Store;\n}();\nexports.default = Store;","map":{"version":3,"names":["Store","rules","prototype","getRulesByDestinationName","destinationName","_i","_a","length","rule","undefined","push"],"sources":["/Users/bcaudillo/Desktop/Projects/todo/node_modules/@segment/tsub/src/store.ts"],"sourcesContent":["import { TransformerConfig } from './transformers'\n\nexport interface Rule {\n  scope: string\n  target_type: string\n  matchers: Matcher[]\n  transformers: Transformer[][]\n  destinationName?: string\n}\n\nexport interface Matcher {\n  type: string\n  ir: string\n}\n\nexport interface Transformer {\n  type: string\n  config?: TransformerConfig\n}\n\nexport default class Store {\n  private readonly rules = []\n\n  constructor(rules?: Rule[]) {\n    this.rules = rules || []\n  }\n\n  public getRulesByDestinationName(destinationName: string): Rule[] {\n    const rules: Rule[] = []\n    for (const rule of this.rules) {\n      // Rules with no destinationName are global (workspace || workspace::source)\n      if (rule.destinationName === destinationName || rule.destinationName === undefined) {\n        rules.push(rule)\n      }\n    }\n\n    return rules\n  }\n}\n"],"mappings":";;;;;AAoBA,IAAAA,KAAA;EAGE,SAAAA,MAAYC,KAAc;IAFT,KAAAA,KAAK,GAAG,EAAE;IAGzB,IAAI,CAACA,KAAK,GAAGA,KAAK,IAAI,EAAE;EAC1B;EAEOD,KAAA,CAAAE,SAAA,CAAAC,yBAAyB,GAAhC,UAAiCC,eAAuB;IACtD,IAAMH,KAAK,GAAW,EAAE;IACxB,KAAmB,IAAAI,EAAA,IAAU,EAAVC,EAAA,OAAI,CAACL,KAAK,EAAVI,EAAA,GAAAC,EAAA,CAAAC,MAAU,EAAVF,EAAA,EAAU,EAAE;MAA1B,IAAMG,IAAI,GAAAF,EAAA,CAAAD,EAAA;MACb;MACA,IAAIG,IAAI,CAACJ,eAAe,KAAKA,eAAe,IAAII,IAAI,CAACJ,eAAe,KAAKK,SAAS,EAAE;QAClFR,KAAK,CAACS,IAAI,CAACF,IAAI,CAAC;;;IAIpB,OAAOP,KAAK;EACd,CAAC;EACH,OAAAD,KAAC;AAAD,CAAC,CAlBD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}